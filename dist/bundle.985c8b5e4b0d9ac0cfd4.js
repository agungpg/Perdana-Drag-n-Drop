var PerdanaDnD;(()=>{"use strict";var t={75:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(601),r=n.n(a),i=n(314),s=n.n(i)()(r());s.push([t.id,".m-pg-board-container {\n    position: relative;\n    background-color: #fff;\n    border-radius :8px;\n    user-select: none; /* Prevent text selection */\n    -webkit-user-select: none; /* For Safari */\n    -ms-user-select: none; /* For older versions of IE */\n    display: flex;\n  }\n  .m-pg-board {\n    position: relative;\n    background-color: #D3D3D3;\n    border-radius :8px;\n    display: flex;\n    flex-direction: column;\n    transition: ease-in-out 0.2s;\n  }\n  \n  .m-pg-board > .m-pg-card {\n    border-radius: 4px;\n    padding: 8px;\n    background-color: #fff;\n    width: calc(100% - 64px);\n    height: 90px;\n    cursor: pointer;\n    position: absolute;\n    transition: all 0.1s linear;\n    z-index: 9;\n  }\n  .m-pg-board > .m-pg-card.m-pg-card-active {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n    z-index: 99;\n    transform: scale(1.05);\n    cursor: grabbing; \n  }\n  .m-pg-card-title {\n    font-size: 1.125rem;\n    font-weight: 600;\n    margin: 0;\n    padding: 0;\n  }\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n  }\n  .scaleX {\n    transform: scaleX(1.2);\n  }",""]);const o=s},755:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(601),r=n.n(a),i=n(314),s=n.n(i)()(r());s.push([t.id,".pg-board-container {\n    position: relative;\n    background-color: #D3D3D3;\n    border-radius :8px;\n    user-select: none; /* Prevent text selection */\n    -webkit-user-select: none; /* For Safari */\n    -ms-user-select: none; /* For older versions of IE */\n  }\n  .pg-board-container > .pg-card {\n    border-radius: 4px;\n    padding: 8px;\n    background-color: #fff;\n    width: calc(100% - 64px);\n    height: 90px;\n    cursor: grab;\n    position: absolute;\n    transition: all 0.1s linear;\n\n  }\n  .pg-board-container > .pg-card.pg-card-active {\n    box-shadow: rgba(0, 0, 0, 0.16) 0px 3px 6px, rgba(0, 0, 0, 0.23) 0px 3px 6px;\n    z-index: 99;\n    transform: scale(1.05);\n    cursor: grabbing;\n  }\n  .pg-card-title {\n    font-size: 1.125rem;\n    font-weight: 600;\n    margin: 0;\n    padding: 0;\n  }\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n  }\n",""]);const o=s},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(a)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(s[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);a&&s[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var i={},s=[],o=0;o<t.length;o++){var d=t[o],c=a.base?d[0]+a.base:d[0],l=i[c]||0,p="".concat(c," ").concat(l);i[c]=l+1;var h=n(p),u={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==h)e[h].references++,e[h].updater(u);else{var g=r(u,a);a.byIndex=o,e.splice(o,0,{identifier:p,updater:g,references:1})}s.push(p)}return s}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=a(t=t||[],r=r||{});return function(t){t=t||[];for(var s=0;s<i.length;s++){var o=n(i[s]);e[o].references--}for(var d=a(t,r),c=0;c<i.length;c++){var l=n(i[c]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}i=d}}},659:t=>{var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={id:a,exports:{}};return t[a](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0;var a={};n.r(a),n.d(a,{multiple:()=>i,single:()=>r});var r={};n.r(r),n.d(r,{init:()=>E});var i={};n.r(i),n.d(i,{PerdanaDnDMultipleData:()=>R,init:()=>N});var s=n(72),o=n.n(s),d=n(825),c=n.n(d),l=n(659),p=n.n(l),h=n(56),u=n.n(h),g=n(540),m=n.n(g),f=n(113),v=n.n(f),x=n(755),b={};b.styleTagTransform=v(),b.setAttributes=u(),b.insert=p().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=m(),o()(x.A,b),x.A&&x.A.locals&&x.A.locals;class y{constructor({id:t,gap:e=0,width:n,height:a,padding:r,data:i=[],onDragStart:s,onDragEnd:o}){this.container=this.getContainer(t),this.gap=e,this.data=[...i],this.callbacks={onDragStart:s,onDragEnd:o},this.cards=[],this.cardHeight=0,this.isDragging=!1,this.active={card:null,index:-1,startY:0,startTop:0},this.applyContainerStyles({width:n,height:a,padding:r}),this.renderCards(),this.bindContainerEvents(),this.measureLayout()}getContainer(t){const e=document.getElementById(t);if(!e)throw new Error(`Element with ${t} is not available!`);return e}applyContainerStyles({width:t,height:e,padding:n}){this.container.classList.add("pg-board-container"),t&&(this.container.style.width=t),e&&(this.container.style.height=e),void 0!==n&&(this.container.style.padding=`${n}px`)}renderCards(){this.container.innerHTML="",this.cards=this.data.map(((t,e)=>this.createCard(t,e))),this.cards.length&&!this.cardHeight&&(this.cardHeight=this.cards[0].getBoundingClientRect().height),this.cardHeight&&this.positionCards()}createCard({id:t,title:e,description:n},a){const r=document.createElement("div");r.id=`${t}-board-item-container`,r.classList.add("pg-card"),r.dataset.index=a;const i=document.createElement("h6");i.id=`${t}-title`,i.classList.add("pg-card-title"),i.innerHTML=e;const s=document.createElement("p");return s.id=`${t}-description`,s.classList.add("pg-board-description"),s.innerHTML=n,r.append(i),r.append(s),r.addEventListener("mousedown",(t=>this.handleCardMouseDown(t,r))),this.container.append(r),r}bindContainerEvents(){this.boundMouseMove=this.handleContainerMouseMove.bind(this),this.boundMouseUp=this.handleContainerMouseUp.bind(this),this.container.addEventListener("mousemove",this.boundMouseMove),this.container.addEventListener("mouseup",this.boundMouseUp),this.container.addEventListener("mouseleave",this.boundMouseUp)}measureLayout(){requestAnimationFrame((()=>{this.cards.length&&(this.cardHeight=this.cards[0].getBoundingClientRect().height,this.positionCards())}))}positionCards(){this.cards.forEach(((t,e)=>{t.dataset.index=e,t.style.top=`${this.slotTop(e)}px`}))}slotTop(t){return this.gap+t*(this.cardHeight+this.gap)}handleCardMouseDown(t,e){const n=Number(e.dataset.index);this.isDragging=!0,this.active={card:e,index:n,startY:t.clientY,startTop:this.parseTop(e.style.top)},e.classList.add("pg-card-active"),this.callbacks.onDragStart&&this.callbacks.onDragStart(n),t.preventDefault()}handleContainerMouseMove(t){if(!this.isDragging||!this.active.card)return;const e=t.clientY-this.active.startY,n=this.active.startTop+e;this.active.card.style.top=`${n}px`}handleContainerMouseUp(){if(!this.isDragging||!this.active.card)return;const t=this.targetIndexFromPosition(this.active.card),e=this.active.index;this.isDragging=!1,e!==t?(this.reorder(e,t),this.callbacks.onDragEnd&&this.callbacks.onDragEnd(e,t,this.data)):this.active.card.style.top=`${this.slotTop(e)}px`,this.active.card.classList.remove("pg-card-active"),this.resetActive()}targetIndexFromPosition(t){const e=this.parseTop(t.style.top),n=this.cardHeight+this.gap;if(n<=0)return this.active.index;const a=Math.max(0,e-this.gap),r=Math.round(a/n);return this.clampIndex(r)}reorder(t,e){const[n]=this.cards.splice(t,1);this.cards.splice(e,0,n);const[a]=this.data.splice(t,1);this.data.splice(e,0,a),this.positionCards()}resetActive(){this.active={card:null,index:-1,startY:0,startTop:0}}parseTop(t){const e=Number(String(t).replace("px",""));return Number.isNaN(e)?0:e}clampIndex(t){return Math.min(Math.max(t,0),this.cards.length-1)}}function E(t){return new y(t)}var C=n(75),I={};function D(t,e,n){const a=document.createElement(t);return e&&(a.id=e),n&&a.classList.add(n),a}function S(t){const e=0==R.elements.length;t.forEach(((t,n)=>function(t,e,n){const a=D("div",`${t.id}-board`,R.boardClassName);R.boarderStyles.width&&(a.style.width=R.boarderStyles.width),R.boarderStyles.height&&(a.style.height=R.boarderStyles.height),R.boarderStyles.gap&&(a.style.gap=`${R.boarderStyles.gap}px`),R.boarderStyles.padding&&(a.style.padding=`${R.boarderStyles.padding}px`),a.setAttribute("data-index",`${e}`);const r=[];t.data.forEach(((t,n)=>{const i=function({id:t,title:e,description:n,index:a,gap:r}){const i=D("div",`${t}-board-item-container`,"m-pg-card"),s=106*a+(a+1)*r;i.style.top=`${s}px`;const o=D("h6",`${t}-title`,"m-pg-card-title");o.innerHTML=e;const d=D("p",`${t}-title`,"m-pg-board-description");return d.innerHTML=n,i.append(o),i.append(d),i}({...t,gap:R.boarderStyles.gap,index:n});a.append(i),i.setAttribute("data-index",`${e}-${n}`),r.push(i)})),R.container.append(a),n&&R.elements.push({id:t.id,el:a,cards:r})}(t,n,e)))}function w(t){const{gap:e,height:n,padding:a}=R.boarderStyles;let{elements:r,baseTop:i}=R;document.querySelectorAll(".m-pg-board").forEach(((t,i)=>{r[i].rect=t.getBoundingClientRect();const s=document.getElementById(r[i].el.id);if(t.childNodes.forEach(((t,e)=>{r[i].cardsRect||(r[i].cardsRect=[]),r[i].cardsRect.push(t.getBoundingClientRect())})),0==t.childNodes.length)return;const{y:o,height:d}=r[i].cardsRect[r[i].cardsRect.length-1];if(r[i].rect.height<o+d&&t.childNodes.length>0){const t=r[i].cardsRect.length,n=d*t+(t-1)*e+a/2;s.style.height=`${n}px`}else document.getElementById(r[i].el.id).style.height=`${n}`})),i=r[0].rect.y+a/2}function A(){document.querySelectorAll(".m-pg-board").forEach(((t,e)=>{t.childNodes.forEach(((t,e)=>{t.addEventListener("mousedown",(()=>function(t){M=setTimeout((()=>{R.isDraging=!0;const[e,n]=t.dataset.index.split("-");R.startBoardIndex=parseInt(e),R.startCardIndex=parseInt(n),R.onDragStartCb&&R.onDragStartCb(e,n),R.cardActiveElement=t,R.cardActiveElement&&R.cardActiveElement.classList.add("m-pg-card-active");const a=t.clientY-R.baseTop;R.lastY=a,R.lastX=t.clientX}),200)}(t)))}))})),R.container.addEventListener("mousemove",T),R.container.addEventListener("mouseup",B)}I.styleTagTransform=v(),I.setAttributes=u(),I.insert=p().bind(null,"head"),I.domAPI=c(),I.insertStyleElement=m(),o()(C.A,I),C.A&&C.A.locals&&C.A.locals;var M=void 0;function T(t){if(!R.cardActiveElement||!R.isDraging)return;const e=t.clientY-R.baseTop;if(R.isDraging&&R.cardActiveElement){0==R.lastY&&cards.forEach((t=>{t.classList.add("no-copy")}));const n=parseInt(R.cardActiveElement.style.top.replace("px",""))+e-R.lastY,a=t.clientX-R.elements[R.startBoardIndex].rect.x-R.elements[R.startBoardIndex].rect.width/2;R.cardActiveElement.style.top=`${n}px`,R.cardActiveElement.style.left=`${a}px`,R.lastX=t.clientX,R.lastY=e}}function B(){if(clearTimeout(M),R.isDraging=!1,R.cardActiveElement){const{x:t,y:e,width:n,height:a}=R.cardActiveElement.getBoundingClientRect(),{endBoardIndex:r,endCardIndex:i}=function({x:t,y:e,width:n}){let a=-1,r=R.startCardIndex;for(let i=0;i<R.elements.length;i++){const s=R.elements[i];if(t>=s.rect.x&&t+n<=s.rect.x+s.rect.width){a=i;for(let t=0;t<s.cardsRect.length;t++)e>s.cardsRect[t].y&&(r=t);break}}return{endBoardIndex:a,endCardIndex:r}}({x:t,y:e,width:n});r<0?function(){const{elements:t,startBoardIndex:e,startCardIndex:n,cardActiveElement:a}=R;$(t[e].cards[n],t[e].cardsRect[n].top,t[e].cardsRect[n].left)}():r==R.startBoardIndex?function(t,e,n){const{startCardIndex:a,elements:r,boarderStyles:i,cardActiveElement:s}=R,o=r[t].cards.length;if(e+1!=a)if(e+1>a){for(let n=a;n<e;n++)$(document.getElementById(r[t].cards[n+1].id),r[t].cardsRect[n].top-i.gap/2);$(document.getElementById(s.id),r[t].cardsRect[e].top-i.gap/2),L(t,e)}else if(e+1<a){for(let a=o-2;a>e;a--)$(document.getElementById(r[t].cards[a].id),r[t].cardsRect[a].top+n+i.gap/2);$(document.getElementById(s.id),r[t].cardsRect[e].top+n+i.gap/2),L(t,e+1)}}(r,i,a):r!=R.startBoardIndex&&(function(t,e,n){const a=R.elements[t].cards.length;for(let r=0;r<R.elements[t].cards.length&&a-1-r!=e;r++){const e=R.elements[t].cards[a-1-r],i=R.elements[t].cardsRect[a-1-r];document.getElementById(e.id).style.top=`${i.top+n+R.boarderStyles.gap/2}px`}for(let t=R.startCardIndex+1;t<R.elements[R.startBoardIndex].cards.length;t++){const e=R.elements[R.startBoardIndex].cards[t],n=R.elements[R.startBoardIndex].cardsRect[t-1];document.getElementById(e.id).style.top=`${n.top}px`}}(r,i,a),L(r,i+1)),setTimeout((()=>{R.elements.forEach(((t,e)=>{R.elements[e].rect=[],R.elements[e].cardsRect=[]})),document.querySelectorAll(".m-pg-board").forEach((t=>t.remove())),S(R.data),w(),A()}),120),R.onDragEndCb&&R.onDragEndCb(R.startCardIndex,R.startBoardIndex,i+1,r,R.data),R.cardActiveElement.classList.remove("m-pg-card-active"),R.startCardIndex=-1,R.startBoardIndex=-1,R.cardActiveElement=void 0}R.lastY=0,R.lastX=0}function $(t,e,n){e&&(t.style.top=`${e}px`),n&&(t.style.left=`${n}px`),e&&(t.top=`${e}px`),n&&(t.left=`${n}px`)}function L(t,e){const n=R.data[R.startBoardIndex].data.splice(R.startCardIndex,1),a=R.elements[R.startBoardIndex].cards.splice(R.startCardIndex,1);R.data[t].data.splice(e,0,n[0]),R.elements[t].cards.splice(e,0,a[0])}const R={data:void 0,container:void 0,containerClassName:"m-pg-board-container",boardClassName:"m-pg-board",elements:[],isDraging:!1,cardActiveElement:void 0,startBoardIndex:-1,startCardIndex:-1,baseTop:0,onDragStartCb:void 0,onDragEndCb:void 0,boarderStyles:void 0,cardStyle:void 0,lastY:0,lastX:0};function N({id:t,gap:e,width:n,height:a,padding:r,multipleData:i,onDragStart:s,onDragEnd:o,boarderStyles:d}){R.onDragStartCb=s,R.onDragEndCb=o,R.data=i,R.boarderStyles=d,function({id:t,width:e,height:n,padding:a,gap:r}){if(R.container=document.getElementById(t),!R.container)throw new Error(`Element with ${t} is not available!`);R.container.classList.add(R.containerClassName),R.container.style.width=e,R.container.style.height=n,R.container.style.gap=`${r}px`,a&&(R.container.style.padding=`${a}px`)}({id:t,width:n,height:a,padding:r,gap:e}),S(i),w(),A()}PerdanaDnD=a})();